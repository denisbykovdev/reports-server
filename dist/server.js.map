{"version":3,"file":"server.js","mappings":"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","sources":["webpack://reports-server/./client/app/App.tsx","webpack://reports-server/./client/styledConfig/fontsCSS.ts","webpack://reports-server/./client/styledConfig/globalStyles.ts","webpack://reports-server/./server/controllers/reportsController.ts","webpack://reports-server/./server/controllers/rootController.tsx","webpack://reports-server/./server/models/Report.ts","webpack://reports-server/./server/models/User.ts","webpack://reports-server/./server/routes/reportsRouter.ts","webpack://reports-server/./server/routes/root.ts","webpack://reports-server/./server/services/db.ts","webpack://reports-server/./server/views/Html.tsx","webpack://reports-server/external commonjs \"cookie-parser\"","webpack://reports-server/external commonjs \"cookie-session\"","webpack://reports-server/external commonjs \"dotenv/config\"","webpack://reports-server/external commonjs \"express\"","webpack://reports-server/external commonjs \"mongoose\"","webpack://reports-server/external commonjs \"passport\"","webpack://reports-server/external commonjs \"process\"","webpack://reports-server/external commonjs \"react\"","webpack://reports-server/external commonjs \"react-dom/server\"","webpack://reports-server/external commonjs \"react-router\"","webpack://reports-server/external commonjs \"sequelize\"","webpack://reports-server/external commonjs \"socket.io\"","webpack://reports-server/external commonjs \"styled-components\"","webpack://reports-server/external node-commonjs \"fs\"","webpack://reports-server/external node-commonjs \"http\"","webpack://reports-server/webpack/bootstrap","webpack://reports-server/webpack/runtime/compat get default export","webpack://reports-server/webpack/runtime/define property getters","webpack://reports-server/webpack/runtime/hasOwnProperty shorthand","webpack://reports-server/webpack/runtime/make namespace object","webpack://reports-server/./server/server.tsx"],"sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport { Provider } from 'react-redux'\n\nexport const App: React.FC = () => (\n\n    <AppContainer>\n        reports server\n    </AppContainer>\n\n)\n\nconst AppContainer = styled.div`\n    position: relative;\n`\n\n","import { css } from \"styled-components\";\n\nexport const fontsCSS = css`\n    @font-face {\n        font-family: \"Roboto\"; \n        src: url(\"//db.onlinewebfonts.com/t/0033a2fbc0329740fb86c1cfd134cb94.eot\"); \n        src: url(\"//db.onlinewebfonts.com/t/0033a2fbc0329740fb86c1cfd134cb94.eot?#iefix\") format(\"embedded-opentype\"), \n        url(\"//db.onlinewebfonts.com/t/0033a2fbc0329740fb86c1cfd134cb94.woff2\") format(\"woff2\"), url(\"//db.onlinewebfonts.com/t/0033a2fbc0329740fb86c1cfd134cb94.woff\") format(\"woff\"), url(\"//db.onlinewebfonts.com/t/0033a2fbc0329740fb86c1cfd134cb94.ttf\") format(\"truetype\"), url(\"//db.onlinewebfonts.com/t/0033a2fbc0329740fb86c1cfd134cb94.svg#Roboto\") format(\"svg\"); \n    }\n`;","import { createGlobalStyle } from 'styled-components';\nimport { fontsCSS } from './fontsCSS';\n\nconst GlobalStyles = createGlobalStyle`\n    ${fontsCSS}\n    \n    * {\n        margin: 0;\n        padding: 0;\n    }\n\n    *,\n    *::before,\n    *::after {\n        box-sizing: border-box;\n    }\n\n    body {\n        font-family: 'Roboto';\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        -ms-overflow-style: none;\n        scrollbar-width: none;\n        overscroll-behavior: none;\n        overflow: hidden;\n    } \n\n    body::-webkit-scrollbar {\n        display: none;\n    }\n`;\n\nexport default GlobalStyles","import { Request, Response } from 'express';\nimport { Report } from '../models/Report';\n\nexport default async function reportsController(\n    req: Request,\n    res: Response\n): Promise<void> {\n    console.log(\n        `--- reportsController/req.body:`, req.body\n    );\n    console.log(\n        `--- reportsController/req.user:`, req.user\n    );\n    console.log(\n        `--- reportsController/req.files:`, req.files\n    );\n    try {\n        async function test() {\n            try {\n                const reports = await Report.findAll();\n                \n                console.log(`--- test/reports:`, reports)\n                \n            } catch (error) {\n                console.log(error)\n            }\n        };\n\n        await test();\n\n    } catch (error) {\n        res.status(500).send({ message: 'server error' })\n    }\n}","import express from 'express'\nimport React from 'react'\nimport {\n    renderToNodeStream\n} from 'react-dom/server'\nimport { ServerStyleSheet } from 'styled-components'\nimport { StaticRouter, StaticRouterContext } from 'react-router'\nimport { App } from '../../client/app/App'\nimport fs from 'fs'\nimport Html from '../views/Html'\nimport GlobalStyles from '../../client/styledConfig/globalStyles'\n\nexport default function rootController(\n    req: express.Request,\n    res: express.Response\n): void {\n\n    const jsFiles: Array<string> = []\n\n    fs.readdirSync('./dist/static/').forEach(file => {\n        \n        if (file.split('.').pop() === 'js') jsFiles.push(file)\n    })\n\n    const context: StaticRouterContext = {}\n\n    const sheet = new ServerStyleSheet()\n\n    const staticMarkup = sheet.collectStyles(\n            <StaticRouter\n                context={context}\n                location={req.path}\n            >\n                <GlobalStyles />\n                <App />\n            </StaticRouter>\n    )\n\n    const staticStyles = sheet.getStyleElement()\n\n    res.status(200)\n\n    const stream = sheet.interleaveWithNodeStream(\n        renderToNodeStream(\n            <Html\n                scripts={jsFiles}\n                styles={staticStyles}\n            >\n                {staticMarkup}\n            </Html>\n        )\n    )\n\n    stream.pipe(\n        res\n    )\n}\n","import { IReportInstance } from \"../@types/IReport\";\nimport sequelize from \"sequelize\";\nimport { sequelizeConnection } from \"../services/db\";\n\nexport const Report = sequelizeConnection.define<IReportInstance>(\n    'reports',\n    {\n        id: {\n            type: sequelize.INTEGER.UNSIGNED,\n            autoIncrement: true,\n            primaryKey: true\n        },\n        report_related_documents: sequelize.STRING,\n        report_adress: sequelize.STRING,\n        report_name: sequelize.STRING,\n        status: sequelize.STRING,\n        previous_test_id: sequelize.STRING,\n        examination_date: sequelize.STRING,\n        test_time: sequelize.STRING,\n        customer_name: sequelize.STRING,\n        tester_name: sequelize.STRING,\n        test_relevance: sequelize.STRING,\n        test_address_city: sequelize.STRING,\n        test_address: sequelize.STRING,\n        report_post_address_city: sequelize.STRING,\n        report_post_address: sequelize.STRING,\n        phone_number: sequelize.STRING,\n        email: sequelize.STRING,\n        other_email: sequelize.STRING,\n        visit_escort: sequelize.STRING,\n        customer_full_name: sequelize.STRING,\n        opposite_side: sequelize.STRING,\n        customer_logo: sequelize.STRING,\n        vat_in_percent: sequelize.STRING,\n        form: sequelize.STRING,\n        floor: sequelize.STRING,\n        technical_floor: sequelize.STRING,\n        systems: sequelize.STRING,\n        number_of_shared_buildings: sequelize.STRING,\n        parking_levels: sequelize.STRING,\n        roof_levels: sequelize.STRING,\n        upper_reservoir: sequelize.STRING,\n        bottom_reservoir: sequelize.STRING,\n        shared_systems_with_additional_buildings: sequelize.STRING,\n        com_areas_in_test: sequelize.STRING,\n        exam_comm_areas: sequelize.STRING,\n        resume: sequelize.STRING,\n        is_resume_template: sequelize.STRING,\n        more_systems: sequelize.STRING,\n        timeStamp: sequelize.STRING,\n        areas: sequelize.STRING,\n        notes: sequelize.STRING\n    }\n);\n\n// Report.hasMany(Area, {\n//     foreignKey: 'id'\n// });\n// Area.belongsTo(Report, { as: 'areas',  foreignKey: 'id' });\n// Report.hasMany(Note);\n// Note.belongsTo(Report);\n\n","import { Schema, model, Document, Types } from 'mongoose'\nimport { IUser } from '../@types/user'\n\nexport const userSchema = new Schema({\n    // _id: Types.ObjectId,\n    phone: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    isNewUser: {\n        type: Boolean,\n        require: false\n    },\n    name: {\n        type: String\n    },\n    surname: {\n        type: String\n    },\n    profileName: {\n        type: String\n    },\n    inviter: {\n        type: String\n    },\n    verified: {\n        type: Boolean,\n    },\n    status: {\n        type: String\n    },\n    password: {\n        type: String,\n        required: true\n    },\n    token: {\n        type: String,\n        required: false,\n        unique: true\n    },\n    avatarId: {\n        type: Types.ObjectId || String,\n        required: false\n    },\n    avatarName: {\n        type: String,\n        required: false\n    },\n    avatar: {\n        type: String,\n        required: false\n    }\n})\n\n// export interface UserDocument extends Document {\n//     fullName: string;\n//     createdAt: Date;\n//     updatedAt: Date;\n// };\n\nexport default model<IUser & Document>('User', userSchema);\n","import { Router } from 'express';\nimport reportsController from '../controllers/reportsController';\n\nconst reportsRouter = Router();\n\nreportsRouter.get(\n    '/reports',\n    reportsController\n);\n\nexport default reportsRouter;","import express, { Router } from 'express'\n\nimport rootController from '../controllers/rootController'\n\nconst rootRouter: express.Router = Router()\n\nrootRouter.get('/*', rootController)\n\nexport default rootRouter\n","import { Sequelize } from \"sequelize\";\n\nexport const sequelizeConnection = new Sequelize(\n    `mysql://report:e^qf-wt2g5wEGH_RWGE(F=WF-FEF75WT4H@92.205.21.129:3306/reports`,\n    {\n        dialect: \"mysql\",\n        define: {\n            timestamps: false,\n            // paranoid: true,\n        }\n    }\n);\n\nexport async function connect (): Promise<void> {\n    try {\n        await sequelizeConnection.sync({\n            // alter: true\n        })\n\n        try {\n            await sequelizeConnection.authenticate();\n            console.log('Connection has been established successfully.');\n        } catch (error) {\n            console.error('Unable to connect to the database:', error);\n        }\n    } catch (error) {\n        console.error('Unable to sync with the database:', error);\n    }\n}","import React from 'react'\n\nexport interface HtmlProps {\n    scripts?: Array<string>;\n    children: React.ReactNode;\n    styles?: string | React.ReactNode;\n    title?: string;\n}\n\nconst Html: React.FC<HtmlProps> = ({\n    children,\n    scripts,\n    styles,\n    title\n}: HtmlProps): React.ReactElement => {\n    return (\n        <html>\n            <head>\n                <meta charSet=\"UTF-8\" />\n                <meta\n                    name=\"viewport\"\n                    content=\"width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1\"\n                />\n                <meta httpEquiv=\"X-UA-Compatible\"\n                    content=\"ie=edge\" />\n                <title>{title}</title>\n                {styles}\n            </head>\n            <body>\n                <div id=\"root\">{children}</div>\n\n                {scripts && scripts.length > 0 && scripts.map((script, index) => (\n                    <script src={`/${script}`}\n                        key={index} ></script>\n                ))}\n            </body>\n        </html>\n    )\n}\n\nexport default Html\n","module.exports = require(\"cookie-parser\");","module.exports = require(\"cookie-session\");","module.exports = require(\"dotenv/config\");","module.exports = require(\"express\");","module.exports = require(\"mongoose\");","module.exports = require(\"passport\");","module.exports = require(\"process\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-router\");","module.exports = require(\"sequelize\");","module.exports = require(\"socket.io\");","module.exports = require(\"styled-components\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import express from 'express'\nimport 'dotenv/config'\nimport rootRouter from './routes/root'\nimport passport from 'passport'\nimport User from './models/User'\nimport cookieSession from 'cookie-session'\nimport cookieParser from 'cookie-parser'\nimport process from 'process'\nimport { Server } from 'socket.io'\nimport * as http from 'http'\nimport reportsRouter from './routes/reportsRouter'\nimport { connect } from './services/db'\n\nconst server = express()\n\nconst httpServer = http.createServer(server)\n\nexport const serverIo = new Server(httpServer, { 'pingTimeout': 200000, 'pingInterval': 25000 })\n\nserver.use(express.json())\n\nserver.use(\n    express.urlencoded({\n        extended: false\n    })\n)\n\npassport.serializeUser((user, done) => {\n    done(null, user)\n})\n\npassport.deserializeUser(\n    (id, done): any => {\n        try {\n            const user = User.findOne({ _id: id })\n            done(null, user)\n        } catch (err) {\n            done(err)\n        }\n    }\n)\n\nserver.use(\n    cookieSession({\n        name: \"session\",\n        keys: ['cookieKey'],\n        maxAge: 24 * 60 * 60 * 100\n    })\n)\n\nserver.use(cookieParser())\n\nserver.use(passport.initialize())\n\nserver.use(passport.session())\n\nserver.use(reportsRouter)\n\nserver.use(express.static(\"dist/static\"))\n\nserver.use(rootRouter)\n\nasync function start(): Promise<void> {\n    try {\n        await connect()\n\n        httpServer.listen(\n            process.env.PORT,\n            () =>\n                console.log(\n                    `--- server/start/port: ${process.env.PORT as string}`\n                )\n        )\n        \n    } catch (error) {\n        console.log('--- server/start/error:', error)\n        process.exit(1)\n    }\n}\n\nvoid start();\n"],"names":[],"sourceRoot":""}