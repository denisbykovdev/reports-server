{"version":3,"file":"server.js","mappings":"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","sources":["webpack://reports-server/./client/app/App.tsx","webpack://reports-server/./client/styledConfig/fontsCSS.ts","webpack://reports-server/./client/styledConfig/globalStyles.ts","webpack://reports-server/./server/controllers/areasController.ts","webpack://reports-server/./server/controllers/problemsController.ts","webpack://reports-server/./server/controllers/reportsController.ts","webpack://reports-server/./server/controllers/rootController.tsx","webpack://reports-server/./server/controllers/standartsController.ts","webpack://reports-server/./server/models/Area.ts","webpack://reports-server/./server/models/Note.ts","webpack://reports-server/./server/models/Problem.ts","webpack://reports-server/./server/models/Report.ts","webpack://reports-server/./server/models/Sample.ts","webpack://reports-server/./server/models/Standart.ts","webpack://reports-server/./server/routes/reportsRouter.ts","webpack://reports-server/./server/routes/root.ts","webpack://reports-server/./server/services/db.ts","webpack://reports-server/./server/views/Html.tsx","webpack://reports-server/external commonjs \"axios\"","webpack://reports-server/external commonjs \"cookie-parser\"","webpack://reports-server/external commonjs \"cookie-session\"","webpack://reports-server/external commonjs \"dotenv/config\"","webpack://reports-server/external commonjs \"express\"","webpack://reports-server/external commonjs \"passport\"","webpack://reports-server/external commonjs \"react\"","webpack://reports-server/external commonjs \"react-dom/server\"","webpack://reports-server/external commonjs \"react-router-dom\"","webpack://reports-server/external commonjs \"sequelize\"","webpack://reports-server/external commonjs \"socket.io\"","webpack://reports-server/external commonjs \"styled-components\"","webpack://reports-server/external node-commonjs \"fs\"","webpack://reports-server/external node-commonjs \"http\"","webpack://reports-server/external node-commonjs \"process\"","webpack://reports-server/webpack/bootstrap","webpack://reports-server/webpack/runtime/compat get default export","webpack://reports-server/webpack/runtime/define property getters","webpack://reports-server/webpack/runtime/hasOwnProperty shorthand","webpack://reports-server/webpack/runtime/make namespace object","webpack://reports-server/./server/server.tsx"],"sourcesContent":["import axios from 'axios';\nimport React, { Suspense, useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { IArea } from '../../server/@types/IArea';\nimport { IProblem } from '../../server/@types/IProblem';\nimport { IReport } from '../../server/@types/IReport';\nimport { IStandart } from '../../server/@types/IStandart';\n\nconst url = `https://reports-server.herokuapp.com`;\n\nexport const App = () => {\n    const [readedReports, setReports] = useState();\n    const [readedAreas, setAreas] = useState();\n    const [readedProblems, setProblems] = useState();\n    const [readedStandarts, setStandarts] = useState();\n\n    useEffect(() => {\n        (\n            async() => {\n                const { data: reports } = await axios.get(\n                    `${url}/reports`\n                );\n\n                console.log(\n                    `--- client/reports:`,\n                    reports\n                );\n\n                setReports(reports);\n\n                const { data: areas } = await axios.get(\n                    `${url}/areas`\n                );\n\n                console.log(\n                    `--- client/areas:`,\n                    areas\n                );\n\n                setAreas(areas);\n\n                const { data: problems } = await axios.get(\n                    `${url}/problems`\n                );\n\n                console.log(\n                    `--- client/problems:`,\n                    problems\n                );\n\n                setProblems(problems);\n\n                const { data: standarts } = await axios.get(\n                    `${url}/standarts`\n                );\n\n                console.log(\n                    `--- client/standarts:`,\n                    standarts\n                );\n\n                setStandarts(standarts);\n            }\n        )();\n    }, []);\n\n    return(\n        <div className='app-container'>\n            reports server/data:\n            <Suspense fallback={<span>Loading ...</span>}>\n                {\n                    readedReports && (readedReports as any).map(\n                        (report: IReport, i: number) => \n                            <div key={i}>\n                                <Suspense fallback={<span>Loading ...</span>}>\n                                    <div>\n                                        report: {report.report_adress}\n                                        {JSON.stringify(report.report_adress)}\n                                    </div>\n                                    <div>\n                                        {JSON.stringify(report.areas)}\n                                    </div>\n                                    <div>\n                                        {JSON.stringify(report.notes)}\n                                    </div>\n                                </Suspense> \n                            </div>\n                    )\n                }\n                {\n                    readedAreas && (readedAreas as any).map(\n                        (area: IArea, i: number) => \n                            <div key={i}>\n                                <Suspense fallback={<span>Loading ...</span>}>\n                                    <div>\n                                        {JSON.stringify(area.area_name)}\n                                    </div>\n                                    <div>\n                                        {JSON.stringify(area.problems)}\n                                    </div>\n                                    <div>\n                                        {JSON.stringify(area.samples)}\n                                    </div>\n                                </Suspense> \n                            </div>\n                    )\n                }\n                {\n                    readedProblems && (readedProblems as any).map(\n                        (problem: IProblem, i: number) => \n                            <div key={i}>\n                                <Suspense fallback={<span>Loading ...</span>}>\n                                    <div>\n                                        {JSON.stringify(problem.name)}\n                                    </div>\n                                    <div>\n                                        {JSON.stringify(problem.standarts)}\n                                    </div>\n                                    <img\n                                        src={`data:image/png;base64, ${problem.image}`}\n                                        style={{\n                                            width: 100,\n                                            height: 100\n                                        }}\n                                    />\n                                </Suspense> \n                            </div>\n                    )\n                }\n                {\n                    readedStandarts && (readedStandarts as any).map(\n                        (standart: IStandart, i: number) => \n                            <div key={i}>\n                                <Suspense fallback={<span>Loading ...</span>}>\n                                    <div>\n                                        {JSON.stringify(standart.id)}\n                                    </div>\n                                    <img\n                                        src={`data:image/png;base64, ${standart.image}`}\n                                        style={{\n                                            width: 100,\n                                            height: 100\n                                        }}\n                                    />\n                                </Suspense> \n                            </div>\n                    )\n                }\n            </Suspense>\n        </div>\n    )\n};\n","import { css } from \"styled-components\";\n\nexport const fontsCSS = css`\n    @font-face {\n        font-family: \"Roboto\"; \n        src: url(\"//db.onlinewebfonts.com/t/0033a2fbc0329740fb86c1cfd134cb94.eot\"); \n        src: url(\"//db.onlinewebfonts.com/t/0033a2fbc0329740fb86c1cfd134cb94.eot?#iefix\") format(\"embedded-opentype\"), \n        url(\"//db.onlinewebfonts.com/t/0033a2fbc0329740fb86c1cfd134cb94.woff2\") format(\"woff2\"), url(\"//db.onlinewebfonts.com/t/0033a2fbc0329740fb86c1cfd134cb94.woff\") format(\"woff\"), url(\"//db.onlinewebfonts.com/t/0033a2fbc0329740fb86c1cfd134cb94.ttf\") format(\"truetype\"), url(\"//db.onlinewebfonts.com/t/0033a2fbc0329740fb86c1cfd134cb94.svg#Roboto\") format(\"svg\"); \n    }\n`;","import { createGlobalStyle } from 'styled-components';\nimport { fontsCSS } from './fontsCSS';\n\nconst GlobalStyles = createGlobalStyle`\n    ${fontsCSS}\n    \n    * {\n        margin: 0;\n        padding: 0;\n    }\n\n    *,\n    *::before,\n    *::after {\n        box-sizing: border-box;\n    }\n\n    body {\n        font-family: 'Roboto';\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        -ms-overflow-style: none;\n        scrollbar-width: none;\n        overscroll-behavior: none;\n        overflow: hidden;\n    } \n\n    body::-webkit-scrollbar {\n        display: none;\n    }\n`;\n\nexport default GlobalStyles","import { Request, Response } from 'express';\nimport { Area } from '../models/Area';\nimport { Problem } from '../models/Problem';\nimport { Sample } from '../models/Sample';\n\nexport default async function areasController(\n    req: Request,\n    res: Response\n): Promise<void> {\n    console.log(\n        `--- areasController/req.body:`, req.body\n    );\n    // console.log(\n    //     `--- areasController/req.user:`, req.user\n    // );\n    // console.log(\n    //     `--- areasController/req.files:`, req.files\n    // );\n    try {\n        const areas = await Area.findAll({\n            include: [\n                {\n                    model: Problem,\n                    as: 'problems'\n                },\n                {\n                    model: Sample,\n                    as: 'samples'\n                }\n            ]\n        });\n\n        console.log(`--- areasController:`, areas);\n\n        if(areas) {\n            res.status(200).send(areas);\n        };\n\n    } catch (error) {\n        console.log(\n            `--- areasController/error:`,\n            error\n        );\n        res.status(500).send({ message: 'server error' });\n    };\n};","import { Request, Response } from 'express';\nimport { Problem } from '../models/Problem';\nimport { Standart } from '../models/Standart';\n\nexport default async function problemsController(\n    req: Request,\n    res: Response\n): Promise<void> {\n    console.log(\n        `--- problemsController/req.body:`, req.body\n    );\n    // console.log(\n    //     `--- problemsController/req.user:`, req.user\n    // );\n    // console.log(\n    //     `--- problemsController/req.files:`, req.files\n    // );\n    try {\n        const problems = await Problem.findAll({\n            include: [\n                {\n                    model: Standart,\n                    as: 'standarts'\n                }\n            ]\n        });\n\n        console.log(`--- problemsController:`, problems);\n\n        if(problems) {\n            res.status(200).send(problems);\n        };\n\n    } catch (error) {\n        console.log(\n            `--- problemsController/error:`,\n            error\n        );\n        res.status(500).send({ message: 'server error' });\n    };\n};","import { Request, Response } from 'express';\nimport { Report } from '../models/Report';\nimport { Area } from '../models/Area';\nimport { Note } from '../models/Note';\nimport { sequelizeConnection } from '../services/db';\nimport { Readable } from 'stream';\n\nexport default async function reportsController(\n    req: Request,\n    res: Response\n): Promise<void> {\n    console.log(\n        `--- reportsController/req.body:`, req.body\n    );\n    // console.log(\n    //     `--- reportsController/req.user:`, req.user\n    // );\n    // console.log(\n    //     `--- reportsController/req.files:`, req.files\n    // );\n    try {\n        const reports = await Report.findAll({\n            include: [\n                {\n                    model: Area,\n                    as: 'areas'\n                },\n                {\n                    model: Note,\n                    as: 'notes'\n                }\n            ]\n        });\n\n        console.log(`--- reportsController:`, reports);\n\n        if(reports) {\n            res.status(200).send(reports);\n        };\n\n        // const readableStream = new Readable({\n        //     objectMode: true,\n        //     // highWaterMark: 1200,\n        //     async read() {\n        //         //string stream\n        //         // const reports = await sequelizeConnection.query('select * from reports');\n\n        //         //object stream\n        //         const reports = await Report.findAll(\n        //             {\n        //                 include: [\n        //                     {\n        //                         model: Area,\n        //                         as: 'areas'\n        //                     },\n        //                     {\n        //                         model: Note,\n        //                         as: 'notes'\n        //                     }\n        //                 ]\n        //             }\n        //         );\n\n        //         // string stream\n        //         // let isContinuedStream = this.push(reports);\n        //         // if(!isContinuedStream) this.push(null);\n\n        //         //object stream\n        //         this.push(reports);\n        //         this.push(null);\n\n        //         console.log(\n        //             `\\n--- readableStream/reports(pure):\\n`, reports,\n        //             `\\n--- readableStreamreports:\\n`, this\n        //         );\n        //     }\n        // });\n\n        // const reports = await sequelizeConnection.query('select * from reports');\n\n        // let data: any[] = [];\n\n        //Promisifing stream\n        // await new Promise((resolve, reject) => {\n        //     readableStream.on(\"data\", (chunk) => {\n        //         console.log(\n        //             `--- stream/data:`, JSON.stringify(chunk)\n        //         );\n        //         data.push(chunk);\n        //     });\n    \n        //     readableStream.on(\"end\", () => {\n        //         console.log(\n        //             `--- stream/end`\n        //         );\n        //         resolve;\n        //     });\n\n        //     readableStream.on(\"error\", (error) => {\n        //         console.log(\n        //             `--- stream/error:`, error\n        //         );\n        //         reject;\n        //     });\n        // });\n\n        //Async iterable stream\n        // try {\n        //     for await (const chunk of readableStream) {\n        //         // data.push(chunk);\n        //         data = [...chunk];\n                \n        //         console.log(\n        //             `\\n--- readableStream/chunk length: ${chunk.bytes}bytes`,\n        //             `\\n--- readableStream/chunk(pure):\\n`, chunk,\n        //             `\\n--- readableStream/data:\\n`, data\n        //         );\n        //     };\n        // } catch (error) {\n        //     console.log(\n        //             `--- readableStream/error:`, error\n        //     );\n        // };\n\n        // readableStream.pipe(\n        //     res.send(data)\n        // );\n\n    } catch (error) {\n        console.log(\n            `--- reportsController/error:`,\n            error\n        );\n        res.status(500).send({ message: 'server error' });\n    };\n};","import express from 'express'\nimport React from 'react'\nimport {\n    renderToPipeableStream\n} from 'react-dom/server'\nimport { StaticRouter } from 'react-router-dom'\nimport { App } from '../../client/app/App'\nimport fs from 'fs'\nimport Html from '../views/Html'\nimport GlobalStyles from '../../client/styledConfig/globalStyles'\n\nexport default function rootController(\n    req: express.Request,\n    res: express.Response\n): void {\n\n    const jsFiles: Array<string> = []\n\n    fs.readdirSync('./dist/static/').forEach(file => {\n\n        if (file.split('.').pop() === 'js') jsFiles.push(file)\n    })\n\n    const context: any = {}\n\n    if (context.url) {\n        res.redirect(context.url)\n    }\n\n    res.status(200);\n\n    let didError = false;\n\n    const stream = renderToPipeableStream(\n        <Html\n            scripts={jsFiles}\n        // styles={staticStyles}\n        >\n            <StaticRouter\n                context={context}\n                location={req.path}\n            >\n                <GlobalStyles />\n                <App />\n            </StaticRouter>\n        </Html>,\n        {\n            // onShellReady() {\n            //     // The content above all Suspense boundaries is ready.\n            //     // If something errored before we started streaming, we set the error code appropriately.\n            //     res.statusCode = didError ? 500 : 200;\n            //     res.setHeader('Content-type', 'text/html');\n            //     stream.pipe(res);\n            // },\n            // onShellError(error) {\n            //     // Something errored before we could complete the shell so we emit an alternative shell.\n            //     res.statusCode = 500;\n            //     res.send(\n            //         '<!doctype html><p>Loading...</p><script src=\"clientrender.js\"></script>'\n            //     );\n            // },\n            onAllReady() {\n                // If you don't want streaming, use this instead of onShellReady.\n                // This will fire after the entire page content is ready.\n                // You can use this for crawlers or static generation.\n\n                // res.statusCode = didError ? 500 : 200;\n                // res.setHeader('Content-type', 'text/html');\n                // stream.pipe(res);\n            },\n            onError(err) {\n                didError = true;\n                console.error(err);\n            }\n        }\n    )\n\n    stream.pipe(\n        res\n    )\n}\n","import { Request, Response } from 'express';\nimport { Standart } from '../models/Standart';\n\nexport default async function standartsController(\n    req: Request,\n    res: Response\n): Promise<void> {\n    console.log(\n        `--- standartsController/req.body:`, req.body\n    );\n    // console.log(\n    //     `--- standartsController/req.user:`, req.user\n    // );\n    // console.log(\n    //     `--- standartsController/req.files:`, req.files\n    // );\n    try {\n        const standarts = await Standart.findAll();\n\n        console.log(`--- standartsController:`, standarts);\n\n        if(standarts) {\n            res.status(200).send(standarts);\n        };\n\n    } catch (error) {\n        console.log(\n            `--- standartsController/error:`,\n            error\n        );\n        res.status(500).send({ message: 'server error' });\n    };\n};","import sequelize from \"sequelize\";\nimport { IAreaInstance } from \"../@types/IArea\";\nimport { sequelizeConnection } from \"../services/db\";\nimport { Problem } from \"./Problem\";\nimport { Report } from \"./Report\";\nimport { Sample } from \"./Sample\";\n\nexport const Area = sequelizeConnection.define<IAreaInstance>(\n    'areas',\n    {\n        id: {\n            type: sequelize.INTEGER,\n            autoIncrement: true,\n            primaryKey: true\n        },\n        area_name: sequelize.STRING,\n        isSavedToReport: sequelize.BOOLEAN,\n        // problems: sequelize.STRING,\n        // samples: sequelize.STRING,\n        report_id: sequelize.INTEGER\n    }\n);\n\n// Area.belongsTo(\n//     Report,\n//     {\n//         foreignKey: \"report_id\"\n//     }\n// );\n\nArea.hasMany(\n    Problem,\n    {\n        foreignKey: 'id',\n        as: \"problems\"\n    }\n);\n\nArea.hasMany(\n    Sample,\n    {\n        foreignKey: 'id',\n        as: 'samples'\n    }\n);","import sequelize from \"sequelize\";\nimport { sequelizeConnection } from \"../services/db\";\nimport { Report } from \"./Report\";\n\nexport const Note = sequelizeConnection.define(\n    'notes',\n    {\n        id: {\n            type: sequelize.INTEGER.UNSIGNED,\n            autoIncrement: true,\n            primaryKey: true\n        },\n        text: sequelize.STRING,\n        // report_id: sequelize.INTEGER\n    }\n);\n\n// Note.belongsTo(\n//     Report,\n//     {\n//         foreignKey: \"report_id\"\n//     }\n// );","import sequelize from \"sequelize\";\nimport { sequelizeConnection } from \"../services/db\";\nimport { IProblemInstance } from \"../@types/IProblem\";\nimport { Standart } from \"./Standart\";\nimport { Report } from \"./Report\";\nimport { Area } from \"./Area\";\n\nexport const Problem = sequelizeConnection.define<IProblemInstance>(\n    'problems',\n    {\n        id: {\n            type: sequelize.INTEGER,\n            autoIncrement: true,\n            primaryKey: true\n        },\n        name: sequelize.STRING,\n        details_of_eclipse: sequelize.STRING,\n        image: sequelize.STRING,\n        solution: sequelize.STRING,\n        cost: sequelize.STRING,\n        // standarts: sequelize.STRING,\n        profession_name: sequelize.STRING,\n        timeStamp: sequelize.STRING,\n        isSavedToReport: sequelize.BOOLEAN,\n        // area_id: sequelize.INTEGER\n    }\n);\n\n// Problem.belongsTo(\n//     Area,\n//     {\n//         foreignKey: \"area_id\"\n//     }\n// );\n\nProblem.hasMany(\n    Standart,\n    {\n        foreignKey: 'id',\n        as: \"standarts\"\n    }\n);","import { IReportInstance } from \"../@types/IReport\";\nimport sequelize from \"sequelize\";\nimport { sequelizeConnection } from \"../services/db\";\nimport { Area } from \"./Area\";\nimport { Note } from \"./Note\";\nimport { AreaProblem } from \"./AreaProblem\";\n\nexport const Report = sequelizeConnection.define<IReportInstance>(\n    'reports',\n    {\n        id: {\n            type: sequelize.INTEGER.UNSIGNED,\n            autoIncrement: true,\n            primaryKey: true\n        },\n        report_related_documents: sequelize.STRING,\n        report_adress: sequelize.STRING,\n        report_name: sequelize.STRING,\n        status: sequelize.STRING,\n        previous_test_id: sequelize.STRING,\n        examination_date: sequelize.STRING,\n        test_time: sequelize.STRING,\n        customer_name: sequelize.STRING,\n        tester_name: sequelize.STRING,\n        test_relevance: sequelize.STRING,\n        test_address_city: sequelize.STRING,\n        test_address: sequelize.STRING,\n        report_post_address_city: sequelize.STRING,\n        report_post_address: sequelize.STRING,\n        phone_number: sequelize.STRING,\n        email: sequelize.STRING,\n        other_email: sequelize.STRING,\n        visit_escort: sequelize.STRING,\n        customer_full_name: sequelize.STRING,\n        opposite_side: sequelize.STRING,\n        customer_logo: sequelize.STRING,\n        vat_in_percent: sequelize.STRING,\n        form: sequelize.STRING,\n        floor: sequelize.STRING,\n        technical_floor: sequelize.STRING,\n        systems: sequelize.STRING,\n        number_of_shared_buildings: sequelize.STRING,\n        parking_levels: sequelize.STRING,\n        roof_levels: sequelize.STRING,\n        upper_reservoir: sequelize.STRING,\n        bottom_reservoir: sequelize.STRING,\n        shared_systems_with_additional_buildings: sequelize.STRING,\n        com_areas_in_test: sequelize.STRING,\n        exam_comm_areas: sequelize.STRING,\n        resume: sequelize.STRING,\n        is_resume_template: sequelize.STRING,\n        more_systems: sequelize.STRING,\n        timeStamp: sequelize.STRING,\n        //optional if areas have no assosiations with reports\n        // areas: sequelize.STRING,\n        // notes: sequelize.STRING\n    }\n);\n\nReport.hasMany(\n    Area, \n    { \n        foreignKey: \"id\",\n        as: \"areas\"\n    }\n);\n\nReport.hasMany(\n    Note,\n    {\n        foreignKey: 'id',\n        as: \"notes\"\n    }\n);\n\n","import sequelize from \"sequelize\";\nimport { IProblemInstance } from \"../@types/IProblem\";\nimport { sequelizeConnection } from \"../services/db\";\n\nexport const Sample = sequelizeConnection.define<IProblemInstance>(\n    'problems',\n    {\n        id: {\n            type: sequelize.INTEGER,\n            autoIncrement: true,\n            primaryKey: true\n        },\n        name: sequelize.STRING,\n        details_of_eclipse: sequelize.STRING,\n        image: sequelize.STRING,\n        solution: sequelize.STRING,\n        cost: sequelize.STRING,\n        // standarts: sequelize.STRING,\n        profession_name: sequelize.STRING,\n        timeStamp: sequelize.STRING,\n        isSavedToReport: sequelize.BOOLEAN,\n        // area_id: sequelize.INTEGER\n    }\n);","import sequelize from \"sequelize\";\nimport { sequelizeConnection } from \"../services/db\";\nimport { IStandartInstance } from \"../@types/IStandart\";\n\nexport const Standart = sequelizeConnection.define<IStandartInstance>(\n    'standarts',\n    {\n        id: {\n            type: sequelize.INTEGER.UNSIGNED,\n            autoIncrement: true,\n            primaryKey: true\n        },\n        text: sequelize.STRING,\n        image: sequelize.STRING,\n        whatToDo: sequelize.STRING,\n        fault: sequelize.STRING,\n        profession: sequelize.STRING,\n        // problem_id: sequelize.INTEGER\n    }\n);\n","import { Router } from 'express';\nimport areasController from '../controllers/areasController';\nimport problemsController from '../controllers/problemsController';\nimport reportsController from '../controllers/reportsController';\nimport standartsController from '../controllers/standartsController';\n\nconst reportsRouter = Router();\n\nreportsRouter.get(\n    '/reports',\n    reportsController\n);\n\nreportsRouter.get(\n    '/areas',\n    areasController\n);\n\nreportsRouter.get(\n    '/problems',\n    problemsController\n);\n\nreportsRouter.get(\n    '/standarts',\n    standartsController\n);\n\nexport default reportsRouter;","import express, { Router } from 'express'\n\nimport rootController from '../controllers/rootController'\n\nconst rootRouter: express.Router = Router()\n\nrootRouter.get('/*', rootController)\n\nexport default rootRouter\n","import { Sequelize } from \"sequelize\";\n\nexport const sequelizeConnection = new Sequelize(\n    `mysql://report:e^qf-wt2g5wEGH_RWGE(F=WF-FEF75WT4H@92.205.21.129:3306/reports`,\n    {\n        dialect: \"mysql\",\n        define: {\n            timestamps: false,\n            paranoid: true\n        }\n    }\n);\n\nexport async function connect (): Promise<void> {\n    try {\n        await sequelizeConnection.sync({\n            // alter: true\n        })\n\n        try {\n            await sequelizeConnection.authenticate();\n            console.log('Connection has been established successfully.');\n        } catch (error) {\n            console.error('Unable to connect to the database:', error);\n        }\n    } catch (error) {\n        console.error('Unable to sync with the database:', error);\n    }\n}","import React from 'react'\n\nexport interface HtmlProps {\n    scripts?: Array<string>;\n    children: React.ReactNode;\n    styles?: string | React.ReactNode;\n    title?: string;\n}\n\nconst Html: React.FC<HtmlProps> = ({\n    children,\n    scripts,\n    styles,\n    title\n}: HtmlProps): React.ReactElement => {\n    return (\n        <html>\n            <head>\n                <meta charSet=\"UTF-8\" />\n                <meta\n                    name=\"viewport\"\n                    content=\"width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1\"\n                />\n                <meta httpEquiv=\"X-UA-Compatible\"\n                    content=\"ie=edge\" />\n                <title>{title}</title>\n                {styles}\n            </head>\n            <body>\n                <div id=\"root\">{children}</div>\n\n                {scripts && scripts.length > 0 && scripts.map((script, index) => (\n                    <script src={`/${script}`}\n                        key={index} ></script>\n                ))}\n            </body>\n        </html>\n    )\n}\n\nexport default Html\n","module.exports = require(\"axios\");","module.exports = require(\"cookie-parser\");","module.exports = require(\"cookie-session\");","module.exports = require(\"dotenv/config\");","module.exports = require(\"express\");","module.exports = require(\"passport\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"sequelize\");","module.exports = require(\"socket.io\");","module.exports = require(\"styled-components\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"process\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import express from 'express'\nimport 'dotenv/config'\nimport rootRouter from './routes/root'\nimport passport from 'passport'\nimport cookieSession from 'cookie-session'\nimport cookieParser from 'cookie-parser'\nimport process from 'process'\nimport { Server } from 'socket.io'\nimport * as http from 'http'\nimport reportsRouter from './routes/reportsRouter'\nimport { connect } from './services/db'\n\nconst server = express()\n\nconst httpServer = http.createServer(server)\n\nexport const serverIo = new Server(httpServer, { 'pingTimeout': 200000, 'pingInterval': 25000 })\n\nserver.use(express.json())\n\nserver.use(\n    express.urlencoded({\n        extended: false\n    })\n)\n\n// passport.serializeUser((user, done) => {\n//     done(null, user)\n// })\n\n// passport.deserializeUser(\n//     (id, done): any => {\n//         try {\n//             const user = User.findOne({ _id: id })\n//             done(null, user)\n//         } catch (err) {\n//             done(err)\n//         }\n//     }\n// )\n\nserver.use(\n    cookieSession({\n        name: \"session\",\n        keys: ['cookieKey'],\n        maxAge: 24 * 60 * 60 * 100\n    })\n)\n\nserver.use(cookieParser())\n\nserver.use(passport.initialize())\n\nserver.use(passport.session())\n\nserver.use(reportsRouter)\n\nserver.use(express.static(\"dist/static\"))\n\nserver.use(rootRouter)\n\nexport let connection\n\nasync function start(): Promise<void> {\n    try {\n        await connect()\n\n        httpServer.listen(\n            process.env.PORT,\n            () =>\n                console.log(\n                    `--- server/start/port: ${process.env.PORT as string}`\n                )\n        )\n        \n    } catch (error) {\n        console.log('--- server/start/error:', error)\n        process.exit(1)\n    }\n}\n\nvoid start();\n"],"names":[],"sourceRoot":""}